---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import BookDetail from '../../../components/books/BookDetail.astro';
import Mission1Content from '../../../components/books/Mission1Content.astro';
import { getBookBySlug } from '../../../i18n/books';

const lang = 'en' as const;
const book = getBookBySlug('mission-1', lang)!;

const jsonLd = {
  '@context': 'https://schema.org',
  '@type': 'Book',
  name: book.title[lang],
  description: book.synopsis[lang],
  author: { '@type': 'Person', name: 'beetecu', alternateName: 'Elizabeth Gonz√°lez' },
  inLanguage: 'en',
  ...(book.isbn ? { isbn: book.isbn } : {}),
};
---

<BaseLayout title={book.title[lang]} lang={lang} canonicalPath="/libros/mision-1" jsonLd={jsonLd}>
  <BookDetail book={book} lang={lang} hideMaterials={true} />
  <div class="max-w-4xl mx-auto px-4">
    <Mission1Content lang={lang} />
  </div>
</BaseLayout>
